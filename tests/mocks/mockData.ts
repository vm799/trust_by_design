import type { Job, Client, Technician, UserProfile, Photo, SafetyCheck } from '../../types';

export const mockUser: UserProfile = {
  id: 'user-123',
  email: 'test@jobproof.pro',
  name: 'Test User',
  role: 'admin',
  workspaceName: 'Test Workspace',
  workspace: {
    id: 'workspace-123',
    name: 'Test Workspace',
    slug: 'test-workspace'
  }
};

export const mockClients: Client[] = [
  {
    id: 'client-1',
    name: 'Acme Corp',
    email: 'contact@acme.com',
    phone: '+1-555-0100',
    address: '123 Business St, New York, NY 10001',
    totalJobs: 5,
  },
  {
    id: 'client-2',
    name: 'Global Industries',
    email: 'info@globalind.com',
    phone: '+1-555-0200',
    address: '456 Commerce Ave, Los Angeles, CA 90001',
    totalJobs: 3,
  },
];

export const mockTechnicians: Technician[] = [
  {
    id: 'tech-1',
    name: 'John Smith',
    email: 'john@jobproof.pro',
    phone: '+1-555-1000',
    status: 'Available',
    rating: 4.8,
    jobsCompleted: 42,
  },
  {
    id: 'tech-2',
    name: 'Jane Doe',
    email: 'jane@jobproof.pro',
    phone: '+1-555-2000',
    status: 'On Site',
    rating: 4.9,
    jobsCompleted: 38,
  },
];

export const mockSafetyChecklist: SafetyCheck[] = [
  {
    id: 'safety-1',
    label: 'PPE worn (hard hat, safety glasses, gloves)',
    checked: true,
    required: true,
  },
  {
    id: 'safety-2',
    label: 'Work area hazards identified and mitigated',
    checked: true,
    required: true,
  },
  {
    id: 'safety-3',
    label: 'Tools and equipment inspected',
    checked: true,
    required: true,
  },
  {
    id: 'safety-4',
    label: 'Emergency exits clear and accessible',
    checked: false,
    required: false,
  },
];

export const mockPhotos: Photo[] = [
  {
    id: 'photo-1',
    url: 'https://test.supabase.co/storage/v1/object/public/job-photos/before-1.jpg',
    timestamp: '2024-01-15T09:00:00Z',
    lat: 40.7128,
    lng: -74.006,
    w3w: 'index.home.raft',
    verified: true,
    syncStatus: 'synced',
    type: 'Before',
    isIndexedDBRef: false,
  },
  {
    id: 'photo-2',
    url: 'https://test.supabase.co/storage/v1/object/public/job-photos/during-1.jpg',
    timestamp: '2024-01-15T10:00:00Z',
    lat: 40.7128,
    lng: -74.006,
    w3w: 'index.home.raft',
    verified: true,
    syncStatus: 'synced',
    type: 'During',
    isIndexedDBRef: false,
  },
  {
    id: 'photo-3',
    url: 'https://test.supabase.co/storage/v1/object/public/job-photos/after-1.jpg',
    timestamp: '2024-01-15T11:00:00Z',
    lat: 40.7128,
    lng: -74.006,
    w3w: 'index.home.raft',
    verified: true,
    syncStatus: 'synced',
    type: 'After',
    isIndexedDBRef: false,
  },
];

export const mockJobs: Job[] = [
  {
    id: 'job-1',
    title: 'HVAC Installation - Acme Corp HQ',
    client: 'Acme Corp',
    clientId: 'client-1',
    technician: 'John Smith',
    techId: 'tech-1',
    status: 'Pending',
    date: '2024-01-15',
    address: '123 Business St, New York, NY 10001',
    lat: 40.7128,
    lng: -74.006,
    w3w: 'index.home.raft',
    notes: 'Install new HVAC system in main office',
    photos: [],
    signature: null,
    safetyChecklist: mockSafetyChecklist,
    syncStatus: 'synced',
    lastUpdated: Date.now(),
    workspaceId: 'workspace-123',
  },
  {
    id: 'job-2',
    title: 'Electrical Repair - Global Industries',
    client: 'Global Industries',
    clientId: 'client-2',
    technician: 'Jane Doe',
    techId: 'tech-2',
    status: 'In Progress',
    date: '2024-01-16',
    address: '456 Commerce Ave, Los Angeles, CA 90001',
    lat: 34.0522,
    lng: -118.2437,
    notes: 'Replace circuit breakers and update wiring',
    photos: [],
    signature: null,
    safetyChecklist: mockSafetyChecklist,
    syncStatus: 'synced',
    lastUpdated: Date.now(),
    workspaceId: 'workspace-123',
  },
  {
    id: 'job-3',
    title: 'Completed Job with Photos',
    client: 'Acme Corp',
    clientId: 'client-1',
    technician: 'John Smith',
    techId: 'tech-1',
    status: 'Submitted',
    date: '2024-01-14',
    address: '123 Business St, New York, NY 10001',
    lat: 40.7128,
    lng: -74.006,
    notes: 'Emergency repair completed',
    workSummary: 'Replaced faulty compressor and tested system. All safety checks passed.',
    photos: mockPhotos,
    signature: 'https://test.supabase.co/storage/v1/object/public/job-signatures/sig-job-3.png',
    signerName: 'John Smith',
    signerRole: 'Lead Technician',
    safetyChecklist: mockSafetyChecklist.map((item) => ({ ...item, checked: true })),
    syncStatus: 'synced',
    lastUpdated: Date.now(),
    completedAt: '2024-01-14T15:30:00Z',
    workspaceId: 'workspace-123',
  },
  {
    id: 'job-4',
    title: 'Sealed Job (Archived)',
    client: 'Global Industries',
    clientId: 'client-2',
    technician: 'Jane Doe',
    techId: 'tech-2',
    status: 'Archived',
    date: '2024-01-10',
    address: '456 Commerce Ave, Los Angeles, CA 90001',
    lat: 34.0522,
    lng: -118.2437,
    notes: 'Major system overhaul',
    workSummary: 'Complete electrical panel upgrade with new circuit breakers.',
    photos: mockPhotos,
    signature: 'https://test.supabase.co/storage/v1/object/public/job-signatures/sig-job-4.png',
    signerName: 'Jane Doe',
    signerRole: 'Senior Electrician',
    safetyChecklist: mockSafetyChecklist.map((item) => ({ ...item, checked: true })),
    syncStatus: 'synced',
    lastUpdated: Date.now(),
    completedAt: '2024-01-10T16:00:00Z',
    sealedAt: '2024-01-10T17:00:00Z',
    sealedBy: 'test@jobproof.pro',
    evidenceHash: 'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855',
    isSealed: true,
    workspaceId: 'workspace-123',
  },
];

// Offline job with IndexedDB references
export const mockOfflineJob: Job = {
  id: 'job-offline-1',
  title: 'Offline Job with Pending Sync',
  client: 'Acme Corp',
  clientId: 'client-1',
  technician: 'John Smith',
  techId: 'tech-1',
  status: 'Submitted',
  date: '2024-01-16',
  address: '123 Business St, New York, NY 10001',
  notes: 'Captured offline, pending upload',
  workSummary: 'Completed work without internet connection',
  photos: [
    {
      id: 'photo-offline-1',
      url: 'media_abc123', // IndexedDB reference
      timestamp: '2024-01-16T10:00:00Z',
      verified: false,
      syncStatus: 'pending',
      type: 'Before',
      isIndexedDBRef: true,
    },
  ],
  signature: 'sig_job-offline-1', // IndexedDB reference
  signatureIsIndexedDBRef: true,
  signerName: 'John Smith',
  signerRole: 'Technician',
  safetyChecklist: mockSafetyChecklist,
  syncStatus: 'pending',
  lastUpdated: Date.now(),
  completedAt: '2024-01-16T11:00:00Z',
  workspaceId: 'workspace-123',
};

// Factory functions for creating test data
export const createMockJob = (overrides: Partial<Job> = {}): Job => ({
  id: `job-${Date.now()}`,
  title: 'Test Job',
  client: 'Test Client',
  clientId: 'client-test',
  technician: 'Test Tech',
  techId: 'tech-test',
  status: 'Pending',
  date: new Date().toISOString().split('T')[0],
  address: '123 Test St',
  notes: '',
  photos: [],
  signature: null,
  safetyChecklist: [],
  syncStatus: 'synced',
  lastUpdated: Date.now(),
  workspaceId: 'workspace-123',
  ...overrides,
});

export const createMockClient = (overrides: Partial<Client> = {}): Client => ({
  id: `client-${Date.now()}`,
  name: 'Test Client',
  email: 'client@test.com',
  phone: '+1-555-0000',
  address: '123 Test St',
  totalJobs: 0,
  ...overrides,
});

export const createMockTechnician = (overrides: Partial<Technician> = {}): Technician => ({
  id: `tech-${Date.now()}`,
  name: 'Test Technician',
  email: 'tech@test.com',
  phone: '+1-555-0000',
  status: 'Available',
  rating: 5.0,
  jobsCompleted: 0,
  ...overrides,
});
